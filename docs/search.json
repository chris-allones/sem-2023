[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Training Workshop on SEM in R",
    "section": "",
    "text": "Schedule\nSessions\nTopics\n\n\n\n\n\nDay 1 morning session\n\nIntro to R programming\n\nR objects\nR packages\nReading data in R\nBasic data wrangling\n\n\n\n\nDay 1 afternoon session\n\nExploratory Factor Analysis (EFA)\n\nObjective of EFA\nDesigning EFA\nAssumptions in EFA\nDeriving factors and assessing overall fit\nInterpreting factors\n\n\n\n\nDay 2 morning session\n\nConfirmatory Factor Analysis (CFA)\n\nCFA overview\nCFA with Lavaan package\nDefining constructs\nDeveloping measurement model\nAssessing measurement model validity\n\n\n\n\nDay 2 afternoon session\n\nCovariance and Partial-least Square SEM\n\nSpecifying structural model\nAssessing the structural model validity\nSEM sample study demonstration"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "01-helpful-guide.html",
    "href": "01-helpful-guide.html",
    "title": "Helpful guide",
    "section": "",
    "text": "Hello there! If you are new in R and RStudio, check out these helpful videos for the installation or basic navigation of R and RStudio.\nWe are excited to have you in our training, see you there!\n\n\n0.1 1 How to install R and RStudio\n\n\n\n\n\n0.2 2 Getting started with R"
  },
  {
    "objectID": "02-intro-r.html",
    "href": "02-intro-r.html",
    "title": "Intro to R programming",
    "section": "",
    "text": "R Objects\nR packages\nImporting data in R\nData wrangling"
  },
  {
    "objectID": "03-efa.html",
    "href": "03-efa.html",
    "title": "Exploratory Factor Analysis (EFA)",
    "section": "",
    "text": "Objective of factor analysis\nDesigning an EFA\nAssumptions in EFA\nDeriving factors and assessing overall fit\nInterpreting factors"
  },
  {
    "objectID": "04-cfa.html",
    "href": "04-cfa.html",
    "title": "Confirmatory factor analysis (CFA) and Covariance based SEM",
    "section": "",
    "text": "CFA-SEM overview\nCFA-SEM with Lavaan\nDefining constructs\nDeveloping the overall measurement model\nAssessing measurement model validity\nSpecifying the structural model\nAssessing structural model validity."
  },
  {
    "objectID": "05-cb-pls-sem.html",
    "href": "05-cb-pls-sem.html",
    "title": "Partial-Least Square SEM (PLS-SEM)",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "06-cb-sem-sample.html",
    "href": "06-cb-sem-sample.html",
    "title": "Covariance Based Structural Equation Modelling (CB-SEM)",
    "section": "",
    "text": "# Library\nlibrary(tidyverse)\n\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.4.0     ✔ purrr   1.0.1\n✔ tibble  3.1.8     ✔ dplyr   1.1.0\n✔ tidyr   1.3.0     ✔ stringr 1.5.0\n✔ readr   2.1.3     ✔ forcats 1.0.0\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n\nlibrary(readxl)\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(lavaan)\n\nThis is lavaan 0.6-13\nlavaan is FREE software! Please report any bugs.\n\nlibrary(psych)\n\n\nAttaching package: 'psych'\n\nThe following object is masked from 'package:lavaan':\n\n    cor2cov\n\nThe following objects are masked from 'package:ggplot2':\n\n    %+%, alpha\n\nlibrary(MVN)\nlibrary(semTools)\n\n \n###############################################################################\nThis is semTools 0.5-6\nAll users of R (or SEM) are invited to submit functions or ideas for functions.\n###############################################################################\n\nAttaching package: 'semTools'\n\nThe following objects are masked from 'package:psych':\n\n    reliability, skew\n\nThe following object is masked from 'package:readr':\n\n    clipboard"
  },
  {
    "objectID": "07-pls-sem-sample.html",
    "href": "07-pls-sem-sample.html",
    "title": "Partial-Least Square SEM (PLS-SEM)",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "01-helpful-guide.html#how-to-install-r-and-rstudio",
    "href": "01-helpful-guide.html#how-to-install-r-and-rstudio",
    "title": "Helpful guide",
    "section": "1 How to install R and RStudio",
    "text": "1 How to install R and RStudio"
  },
  {
    "objectID": "01-helpful-guide.html#getting-started-with-r",
    "href": "01-helpful-guide.html#getting-started-with-r",
    "title": "Helpful guide",
    "section": "2 Getting started with R",
    "text": "2 Getting started with R"
  },
  {
    "objectID": "03-efa.html#presentation-keyboard-shortcuts",
    "href": "03-efa.html#presentation-keyboard-shortcuts",
    "title": "Exploratory Factor Analysis (EFA)",
    "section": "2 Presentation keyboard shortcuts",
    "text": "2 Presentation keyboard shortcuts\n\n\n\nUse ← and → to navigate through the slides\n\n\nUse F to toggle full screen\n\n\nUse O to view an overview of all slides\n\n\nUse ? to see a list of other shortcuts\n\n\n\nView slides in new window"
  },
  {
    "objectID": "02-intro-r.html#presentation-keyboard-shortcuts",
    "href": "02-intro-r.html#presentation-keyboard-shortcuts",
    "title": "Intro to R programming",
    "section": "2 Presentation keyboard shortcuts",
    "text": "2 Presentation keyboard shortcuts\n\n\n\nUse ← and → to navigate through the slides\n\n\nUse F to toggle full screen\n\n\nUse O to view an overview of all slides\n\n\nUse ? to see a list of other shortcuts\n\n\n\nView slides in new window"
  },
  {
    "objectID": "04-cfa.html#presentation-keyboard-shortcuts",
    "href": "04-cfa.html#presentation-keyboard-shortcuts",
    "title": "Confirmatory factor analysis (CFA) and Covariance based SEM",
    "section": "2 Presentation keyboard shortcuts",
    "text": "2 Presentation keyboard shortcuts\n\n\n\nUse ← and → to navigate through the slides\n\n\nUse F to toggle full screen\n\n\nUse O to view an overview of all slides\n\n\nUse ? to see a list of other shortcuts\n\n\n\nView slides in new window"
  },
  {
    "objectID": "06-cb-sem-sample.html#sample-case-study",
    "href": "06-cb-sem-sample.html#sample-case-study",
    "title": "Covariance Based Structural Equation Modelling (CB-SEM)",
    "section": "1 Sample case study",
    "text": "1 Sample case study\n\nARTICLE: Young people’s perceived service quality and environmental performance of hybrid electric bus.\nAUTHOR: Zial Haque and Tehjeeb Noor\nDOI Link: https://doi.org/10.1016/j.tbs.2020.03.003"
  },
  {
    "objectID": "06-cb-sem-sample.html#exploratory-factor-analysis",
    "href": "06-cb-sem-sample.html#exploratory-factor-analysis",
    "title": "Covariance Based SEM (CB-SEM)",
    "section": "4 Exploratory factor analysis",
    "text": "4 Exploratory factor analysis\n\n4.1 Scree plot\nWe can use a scree test to identify the optimum number of factors that can be extracted. In the example below, a parallel analysis was used to identify the potential number of factors that can be extracted.\nThe test will generate simulated dataset with random values for the same number of variables and sample size. The test involved the following procedures (see Hair 2019):\n\nThen each of these simulated datasets is then factor analyzed, either with PCA or CFA and the eigen values are averaged for each factor across all the data sets.\nThe results is the average eigenvalues for the first, second and so on across the set of simulated dataset.\nThese values are then compared to the eigen values extracted for the original data.\nAll factors with eigen values above those average eigen values are retained.\n\nResult of the parallel analysis shows that there are 6 potential factors (i.e., six triangles are above the red broken line or the simulated data). At this stage, you compare your expected number of factors to be extracted against the scree test. Note that the test can be used as one of your bases for factor extraction.\n\n## Scree plot using parallel analysis\nfa.parallel(case_data_items, fa = \"fa\")\n\n\n\n\nParallel analysis suggests that the number of factors =  7  and the number of components =  NA \n\n\n\n\n4.2 Factor extraction\nAn EFA with a varimax rotation was used to identify which items load to their expected construct. Items with high cross-loadings (i.e., items which load highly to more than one construct) and loadings below 0.30 were excluded.\nHigh cross-loadings pose difficulty in establishing a separate concept of each variable when factors are apparently shared variables. The goal is to identify the pattern where each item associates only with one factor.\nSome guides for factor loadings (Hair 2019):\n\nFactor loadings less than ±0.10 can be considered equivalent to zero for purposes of assessing simple structure.\nFactor loadings in the range of ±0.30 and ±0.40 are considered to meet the minimal level for interpretation of the structure.\nLoadings ±0.50 or greater are considered practically significant\nLoadings exceeding ±0.70 are considered indicative of well-defined structure and are the goal of any factor analysis.\n\nExtremely high loadings such as ±0.90 and above are not typical, and the practical significance of the loadings is an important criterion.\n\n## Factor loading\nbus_fa <- fa(r = case_data_items,\n             nfactors = 6,\n             rotate = \"varimax\")\n\nprint(bus_fa$loadings, sort = TRUE, cutoff = 0.4)\n\n\nLoadings:\n     MR2   MR1   MR3   MR4   MR6   MR5  \nls1  0.820                              \nls2  0.891                              \nls3  0.828                              \nls4  0.806                              \nls5  0.599                              \nbt1        0.673                        \nbt2        0.666                        \nbt4        0.549                        \nbt5        0.680                        \nbt6        0.578                        \nbt7        0.550                        \nep1              0.864                  \nep2              0.900                  \nep3              0.690                  \nep4              0.705                  \nemp1                   0.688            \nemp2                   0.662            \nemp3                   0.636            \nemp4                   0.697            \nemp5                   0.502            \nbd1                          0.679      \nbd2                          0.640      \nbd3                          0.676      \nbd4                          0.629      \ncs1                                0.774\ncs2                                0.817\ncs3                                0.768\nbt3        0.476                        \n\n                 MR2   MR1   MR3   MR4   MR6   MR5\nSS loadings    3.477 3.363 3.081 2.658 2.429 2.297\nProportion Var 0.124 0.120 0.110 0.095 0.087 0.082\nCumulative Var 0.124 0.244 0.354 0.449 0.536 0.618"
  },
  {
    "objectID": "06-cb-sem-sample.html#confirmatory-factor-analysis",
    "href": "06-cb-sem-sample.html#confirmatory-factor-analysis",
    "title": "Covariance Based SEM (CB-SEM)",
    "section": "5 Confirmatory factor analysis",
    "text": "5 Confirmatory factor analysis\n\n5.1 Multivariate normality test\nOne of the assumptions in CFA and CB-SEM is multivariate normality. Following the test employed in the sample study, the mvn function of the MVN package (Korkmaz, Goksuluk, and Zararsiz 2014) allows us to run Mardia’s test for multivariate normality.\nUsing the Mardia test wherein p-value < 0.5 indicate rejection of the null hypothesis of multivariate and univariate normality. Result shows that the null hypothesis of multivariate normality of all the multivariate normality was rejected. Therefore, the study use the maximum likelihood robust (MLR) estimator to estimate the measurement model instead of the usual maximum likelihood estimator (MLR) (Rosseel 2012).\n\nMVN::mvn(data = case_data_items, mvnTest = \"mardia\", desc = F)\n\n$multivariateNormality\n             Test        Statistic               p value Result\n1 Mardia Skewness 7270.01984441523 4.08329952017666e-186     NO\n2 Mardia Kurtosis 31.3657300202103                     0     NO\n3             MVN             <NA>                  <NA>     NO\n\n$univariateNormality\n               Test  Variable Statistic   p value Normality\n1  Anderson-Darling    bt1       7.2262  <0.001      NO    \n2  Anderson-Darling    bt2       8.0671  <0.001      NO    \n3  Anderson-Darling    bt3       6.6800  <0.001      NO    \n4  Anderson-Darling    bt4       6.4183  <0.001      NO    \n5  Anderson-Darling    bt5       6.1728  <0.001      NO    \n6  Anderson-Darling    bt6       8.6698  <0.001      NO    \n7  Anderson-Darling    bt7       7.5770  <0.001      NO    \n8  Anderson-Darling    bd1       5.9732  <0.001      NO    \n9  Anderson-Darling    bd2       8.7052  <0.001      NO    \n10 Anderson-Darling    bd3       5.9169  <0.001      NO    \n11 Anderson-Darling    bd4       6.8989  <0.001      NO    \n12 Anderson-Darling   emp1       5.2108  <0.001      NO    \n13 Anderson-Darling   emp2       6.4303  <0.001      NO    \n14 Anderson-Darling   emp3       4.7131  <0.001      NO    \n15 Anderson-Darling   emp4       7.8380  <0.001      NO    \n16 Anderson-Darling   emp5       5.5762  <0.001      NO    \n17 Anderson-Darling    cs1       6.9341  <0.001      NO    \n18 Anderson-Darling    cs2       7.1469  <0.001      NO    \n19 Anderson-Darling    cs3       6.2791  <0.001      NO    \n20 Anderson-Darling    ep1       7.5913  <0.001      NO    \n21 Anderson-Darling    ep2       7.3530  <0.001      NO    \n22 Anderson-Darling    ep3       7.2375  <0.001      NO    \n23 Anderson-Darling    ep4       6.5793  <0.001      NO    \n24 Anderson-Darling    ls1       9.0564  <0.001      NO    \n25 Anderson-Darling    ls2       8.2974  <0.001      NO    \n26 Anderson-Darling    ls3       8.5914  <0.001      NO    \n27 Anderson-Darling    ls4       6.9281  <0.001      NO    \n28 Anderson-Darling    ls5       5.8779  <0.001      NO    \n\n\n\n\n5.2 Specifying the measurement model\nBelow is the syntax used in defining our factor. For example, the drivers_quality factor is specified using the syntax drivers_quality =~ bd1 + bd2 + bd3 + bd4, which means this factor is measured using bd1 to bd4.\nNote that we know which indicators to use to represent the factor based on our exploratory factor analysis in the previous sections.\n\n## Specifying CFA model\ncfa_model <- \"tangible =~ bt1 + bt2 + bt4 + bt5 + bt6 + bt7\n              drivers_quality =~ bd1 + bd2 + bd3 + bd4\n              empathy =~ emp1 + emp2 + emp3 + emp4 + emp5\n              env_perf =~ ep1 + ep2 + ep3 + ep4\n              customer_sat =~ cs1 + cs2 + cs3\n              life_sat =~ ls1 + ls2 + ls3 + ls4 + ls5\"\n\n\n\n5.3 Fitting the model\nGiven the result of the normality test, a maximum likelihood robust (MLR) was used to estimate the initial measurement model. Based on the assessment criteria, the model shows an acceptable and adequate model fit.\nThe fit of the measurement model was assessed using the ratio of the Chi-square to the degrees of freedom, Tucker-Lewis Index (TLI), Comparative Fit Index (CFI), and the Root Mean Square Error of Approximation (RMSEA).\nFor the recommended values of the fit measures, see Table 3 below taken from the study of W. Shiau & M. Luo (2013).\n\n\n\n\n\n\nSample GOF results from W. Shiau & M. Luo (2013). Continuance intention of blog users: The impact of perceived enjoyment, habit, user involvement and blogging time\n\n\n## Fitting CFA model\ncfa_fit <- cfa(model = cfa_model, \n               data = case_data_items, \n               estimator = \"MLR\")\n\n## Summary results\ncfa_fit %>% summary(standardized = TRUE,\n                     fit.measures = TRUE)\n\nlavaan 0.6.13 ended normally after 57 iterations\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                        69\n\n  Number of observations                           272\n\nModel Test User Model:\n                                              Standard      Scaled\n  Test Statistic                               546.100     483.499\n  Degrees of freedom                               309         309\n  P-value (Chi-square)                           0.000       0.000\n  Scaling correction factor                                  1.129\n    Yuan-Bentler correction (Mplus variant)                       \n\nModel Test Baseline Model:\n\n  Test statistic                              5050.919    4114.132\n  Degrees of freedom                               351         351\n  P-value                                        0.000       0.000\n  Scaling correction factor                                  1.228\n\nUser Model versus Baseline Model:\n\n  Comparative Fit Index (CFI)                    0.950       0.954\n  Tucker-Lewis Index (TLI)                       0.943       0.947\n                                                                  \n  Robust Comparative Fit Index (CFI)                         0.957\n  Robust Tucker-Lewis Index (TLI)                            0.952\n\nLoglikelihood and Information Criteria:\n\n  Loglikelihood user model (H0)             -10679.787  -10679.787\n  Scaling correction factor                                  1.510\n      for the MLR correction                                      \n  Loglikelihood unrestricted model (H1)     -10406.737  -10406.737\n  Scaling correction factor                                  1.199\n      for the MLR correction                                      \n                                                                  \n  Akaike (AIC)                               21497.575   21497.575\n  Bayesian (BIC)                             21746.375   21746.375\n  Sample-size adjusted Bayesian (SABIC)      21527.595   21527.595\n\nRoot Mean Square Error of Approximation:\n\n  RMSEA                                          0.053       0.046\n  90 Percent confidence interval - lower         0.046       0.038\n  90 Percent confidence interval - upper         0.060       0.053\n  P-value H_0: RMSEA <= 0.050                    0.236       0.839\n  P-value H_0: RMSEA >= 0.080                    0.000       0.000\n                                                                  \n  Robust RMSEA                                               0.048\n  90 Percent confidence interval - lower                     0.040\n  90 Percent confidence interval - upper                     0.057\n  P-value H_0: Robust RMSEA <= 0.050                         0.615\n  P-value H_0: Robust RMSEA >= 0.080                         0.000\n\nStandardized Root Mean Square Residual:\n\n  SRMR                                           0.053       0.053\n\nParameter Estimates:\n\n  Standard errors                             Sandwich\n  Information bread                           Observed\n  Observed information based on                Hessian\n\nLatent Variables:\n                     Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  tangible =~                                                             \n    bt1                 1.000                               0.913    0.699\n    bt2                 1.022    0.081   12.634    0.000    0.932    0.696\n    bt4                 0.983    0.098   10.003    0.000    0.897    0.655\n    bt5                 1.070    0.102   10.542    0.000    0.977    0.691\n    bt6                 1.126    0.120    9.354    0.000    1.028    0.717\n    bt7                 1.138    0.128    8.890    0.000    1.039    0.694\n  drivers_quality =~                                                      \n    bd1                 1.000                               1.145    0.762\n    bd2                 0.942    0.071   13.188    0.000    1.079    0.762\n    bd3                 1.039    0.065   15.858    0.000    1.189    0.801\n    bd4                 0.897    0.068   13.217    0.000    1.027    0.767\n  empathy =~                                                              \n    emp1                1.000                               1.145    0.705\n    emp2                0.923    0.078   11.875    0.000    1.057    0.731\n    emp3                0.922    0.091   10.179    0.000    1.056    0.627\n    emp4                0.867    0.081   10.696    0.000    0.993    0.739\n    emp5                0.877    0.093    9.428    0.000    1.004    0.681\n  env_perf =~                                                             \n    ep1                 1.000                               1.260    0.909\n    ep2                 1.065    0.035   30.476    0.000    1.342    0.982\n    ep3                 0.851    0.061   13.892    0.000    1.072    0.774\n    ep4                 0.893    0.050   17.777    0.000    1.125    0.782\n  customer_sat =~                                                         \n    cs1                 1.000                               1.212    0.910\n    cs2                 1.022    0.040   25.743    0.000    1.239    0.955\n    cs3                 1.045    0.043   24.120    0.000    1.268    0.889\n  life_sat =~                                                             \n    ls1                 1.000                               1.058    0.855\n    ls2                 1.091    0.055   19.807    0.000    1.154    0.926\n    ls3                 1.051    0.096   10.991    0.000    1.112    0.851\n    ls4                 1.102    0.069   15.894    0.000    1.166    0.799\n    ls5                 0.876    0.090    9.678    0.000    0.927    0.597\n\nCovariances:\n                     Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  tangible ~~                                                             \n    drivers_qualty      0.721    0.100    7.196    0.000    0.690    0.690\n    empathy             0.492    0.080    6.144    0.000    0.471    0.471\n    env_perf            0.596    0.097    6.166    0.000    0.518    0.518\n    customer_sat        0.625    0.094    6.680    0.000    0.565    0.565\n    life_sat            0.353    0.072    4.895    0.000    0.366    0.366\n  drivers_quality ~~                                                      \n    empathy             0.798    0.112    7.142    0.000    0.609    0.609\n    env_perf            0.641    0.105    6.074    0.000    0.444    0.444\n    customer_sat        0.789    0.112    7.041    0.000    0.568    0.568\n    life_sat            0.344    0.088    3.923    0.000    0.284    0.284\n  empathy ~~                                                              \n    env_perf            0.596    0.099    6.000    0.000    0.413    0.413\n    customer_sat        0.831    0.114    7.278    0.000    0.599    0.599\n    life_sat            0.316    0.098    3.239    0.001    0.261    0.261\n  env_perf ~~                                                             \n    customer_sat        0.733    0.109    6.743    0.000    0.480    0.480\n    life_sat            0.368    0.094    3.919    0.000    0.276    0.276\n  customer_sat ~~                                                         \n    life_sat            0.385    0.077    5.022    0.000    0.300    0.300\n\nVariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .bt1               0.870    0.126    6.918    0.000    0.870    0.511\n   .bt2               0.927    0.111    8.366    0.000    0.927    0.516\n   .bt4               1.070    0.127    8.427    0.000    1.070    0.571\n   .bt5               1.043    0.126    8.311    0.000    1.043    0.522\n   .bt6               0.999    0.112    8.904    0.000    0.999    0.486\n   .bt7               1.164    0.139    8.396    0.000    1.164    0.519\n   .bd1               0.946    0.114    8.271    0.000    0.946    0.419\n   .bd2               0.842    0.114    7.374    0.000    0.842    0.420\n   .bd3               0.791    0.103    7.659    0.000    0.791    0.359\n   .bd4               0.737    0.095    7.751    0.000    0.737    0.411\n   .emp1              1.330    0.146    9.121    0.000    1.330    0.504\n   .emp2              0.971    0.115    8.432    0.000    0.971    0.465\n   .emp3              1.722    0.180    9.574    0.000    1.722    0.607\n   .emp4              0.818    0.099    8.296    0.000    0.818    0.453\n   .emp5              1.163    0.142    8.186    0.000    1.163    0.536\n   .ep1               0.334    0.059    5.632    0.000    0.334    0.174\n   .ep2               0.068    0.043    1.566    0.117    0.068    0.036\n   .ep3               0.772    0.142    5.421    0.000    0.772    0.402\n   .ep4               0.803    0.152    5.299    0.000    0.803    0.388\n   .cs1               0.307    0.078    3.950    0.000    0.307    0.173\n   .cs2               0.148    0.041    3.631    0.000    0.148    0.088\n   .cs3               0.425    0.101    4.202    0.000    0.425    0.209\n   .ls1               0.411    0.078    5.276    0.000    0.411    0.269\n   .ls2               0.222    0.049    4.563    0.000    0.222    0.143\n   .ls3               0.472    0.125    3.786    0.000    0.472    0.276\n   .ls4               0.770    0.099    7.807    0.000    0.770    0.362\n   .ls5               1.548    0.180    8.579    0.000    1.548    0.643\n    tangible          0.833    0.134    6.237    0.000    1.000    1.000\n    drivers_qualty    1.311    0.175    7.494    0.000    1.000    1.000\n    empathy           1.311    0.188    6.980    0.000    1.000    1.000\n    env_perf          1.588    0.138   11.538    0.000    1.000    1.000\n    customer_sat      1.470    0.159    9.267    0.000    1.000    1.000\n    life_sat          1.120    0.149    7.519    0.000    1.000    1.000\n\n## plotting cfa model\nlavaanPlot(model = cfa_fit, coefs = TRUE, covs = TRUE)\n\n\n\n\n\n\n\n5.4 Relibility and validity tests\n\n## Reliability and validity \nreliability(cfa_fit) %>% round(2)\n\n       tangible drivers_quality empathy env_perf customer_sat life_sat\nalpha      0.85            0.86    0.82     0.92         0.94     0.90\nomega      0.85            0.86    0.82     0.92         0.94     0.90\nomega2     0.85            0.86    0.82     0.92         0.94     0.90\nomega3     0.85            0.86    0.82     0.92         0.94     0.89\navevar     0.48            0.60    0.48     0.75         0.84     0.63"
  },
  {
    "objectID": "06-cb-sem-sample.html#structural-equation-modelling",
    "href": "06-cb-sem-sample.html#structural-equation-modelling",
    "title": "Covariance Based SEM (CB-SEM)",
    "section": "6 Structural equation modelling",
    "text": "6 Structural equation modelling\n\n6.1 Specifying structural model\n\n## Specifying structural model\nebus_model <- \"tangible =~ bt1 + bt2 + bt4 + bt5 + bt6 + bt7\n              drivers_quality =~ bd1 + bd2 + bd3 + bd4\n              empathy =~ emp1 + emp2 + emp3 + emp4 + emp5\n              env_perf =~ ep1 + ep2 + ep3 + ep4\n              customer_sat =~ cs1 + cs2 + cs3\n              life_sat =~ ls1 + ls2 + ls3 + ls4 + ls5\n              \n              # structural model\n              customer_sat ~ tangible + drivers_quality + empathy + env_perf\n              life_sat ~ customer_sat\"\n\n\n\n6.2 Fitting the structural model\nIn the previous section, we only defined our model. Here we fit our specified model using the Lavaan package (Rosseel 2012) for SEM analysis. The output composes mainly of the fit indices and parameter estimates. The parameter estimates are shown under the Latent variables, Regressions, and Variances section.\nLatent variables\nThe Estimates column is the non-standardized factor loadings coefficient accompanied by its Std Error (standard error). The most important to look at in the Estimates column is the presence of negative values since variance should not be negative. Thus, a negative value is a sign of a problem (see Heywood case for more information).\nFor interpretation, for example, the non-standardized factor loading of bt2, that is, 1.021, indicates an increase of one unit in the latent variable, tangible factor, is associated with an increase of 1.021 in bt2 item.\nThe last column std.lv and std.all present a standardized solution. The std.lv presents a factor loading of a solution that only latent variables (factors) were standardized. Whereas the std.all presents the factor loading of a solution where latent variables and indicators were standardized. We want a value to be positive and greater than 0.40 as a required minimum to evaluate the relevance of the indicators and the factor. However, this set required minimum is not unanimously accepted, but the larger, the better.\n… in progress.\n\n## Fitting structural model\nebus_fit <- sem(model = ebus_model,\n                data = case_data,\n                estimator = \"MLR\")\n\n## Summary results\nebus_fit %>% summary(standardized = TRUE,\n                     fit.measures = TRUE,\n                     rsq = TRUE)\n\nlavaan 0.6.13 ended normally after 46 iterations\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                        65\n\n  Number of observations                           272\n\nModel Test User Model:\n                                              Standard      Scaled\n  Test Statistic                               561.166     496.106\n  Degrees of freedom                               313         313\n  P-value (Chi-square)                           0.000       0.000\n  Scaling correction factor                                  1.131\n    Yuan-Bentler correction (Mplus variant)                       \n\nModel Test Baseline Model:\n\n  Test statistic                              5050.919    4114.132\n  Degrees of freedom                               351         351\n  P-value                                        0.000       0.000\n  Scaling correction factor                                  1.228\n\nUser Model versus Baseline Model:\n\n  Comparative Fit Index (CFI)                    0.947       0.951\n  Tucker-Lewis Index (TLI)                       0.941       0.945\n                                                                  \n  Robust Comparative Fit Index (CFI)                         0.955\n  Robust Tucker-Lewis Index (TLI)                            0.950\n\nLoglikelihood and Information Criteria:\n\n  Loglikelihood user model (H0)             -10687.320  -10687.320\n  Scaling correction factor                                  1.525\n      for the MLR correction                                      \n  Loglikelihood unrestricted model (H1)     -10406.737  -10406.737\n  Scaling correction factor                                  1.199\n      for the MLR correction                                      \n                                                                  \n  Akaike (AIC)                               21504.640   21504.640\n  Bayesian (BIC)                             21739.017   21739.017\n  Sample-size adjusted Bayesian (SABIC)      21532.920   21532.920\n\nRoot Mean Square Error of Approximation:\n\n  RMSEA                                          0.054       0.046\n  90 Percent confidence interval - lower         0.047       0.039\n  90 Percent confidence interval - upper         0.061       0.053\n  P-value H_0: RMSEA <= 0.050                    0.178       0.793\n  P-value H_0: RMSEA >= 0.080                    0.000       0.000\n                                                                  \n  Robust RMSEA                                               0.049\n  90 Percent confidence interval - lower                     0.041\n  90 Percent confidence interval - upper                     0.057\n  P-value H_0: Robust RMSEA <= 0.050                         0.545\n  P-value H_0: Robust RMSEA >= 0.080                         0.000\n\nStandardized Root Mean Square Residual:\n\n  SRMR                                           0.069       0.069\n\nParameter Estimates:\n\n  Standard errors                             Sandwich\n  Information bread                           Observed\n  Observed information based on                Hessian\n\nLatent Variables:\n                     Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  tangible =~                                                             \n    bt1                 1.000                               0.912    0.699\n    bt2                 1.021    0.081   12.564    0.000    0.931    0.695\n    bt4                 0.986    0.098   10.030    0.000    0.900    0.657\n    bt5                 1.079    0.103   10.493    0.000    0.984    0.697\n    bt6                 1.124    0.121    9.299    0.000    1.026    0.716\n    bt7                 1.132    0.128    8.862    0.000    1.033    0.689\n  drivers_quality =~                                                      \n    bd1                 1.000                               1.145    0.762\n    bd2                 0.941    0.071   13.196    0.000    1.078    0.761\n    bd3                 1.038    0.065   15.982    0.000    1.189    0.801\n    bd4                 0.897    0.068   13.220    0.000    1.027    0.767\n  empathy =~                                                              \n    emp1                1.000                               1.144    0.704\n    emp2                0.922    0.078   11.823    0.000    1.055    0.730\n    emp3                0.923    0.091   10.159    0.000    1.056    0.627\n    emp4                0.870    0.080   10.805    0.000    0.995    0.741\n    emp5                0.878    0.093    9.403    0.000    1.004    0.681\n  env_perf =~                                                             \n    ep1                 1.000                               1.260    0.909\n    ep2                 1.065    0.035   30.266    0.000    1.342    0.982\n    ep3                 0.851    0.061   13.865    0.000    1.072    0.773\n    ep4                 0.893    0.050   17.778    0.000    1.125    0.782\n  customer_sat =~                                                         \n    cs1                 1.000                               1.212    0.909\n    cs2                 1.023    0.040   25.878    0.000    1.240    0.955\n    cs3                 1.045    0.043   24.227    0.000    1.266    0.888\n  life_sat =~                                                             \n    ls1                 1.000                               1.058    0.855\n    ls2                 1.092    0.056   19.402    0.000    1.156    0.927\n    ls3                 1.050    0.096   10.969    0.000    1.111    0.850\n    ls4                 1.102    0.070   15.713    0.000    1.166    0.799\n    ls5                 0.874    0.091    9.609    0.000    0.925    0.596\n\nRegressions:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  customer_sat ~                                                        \n    tangible          0.313    0.127    2.457    0.014    0.235    0.235\n    drivers_qualty    0.132    0.122    1.087    0.277    0.125    0.125\n    empathy           0.367    0.110    3.347    0.001    0.346    0.346\n    env_perf          0.155    0.060    2.604    0.009    0.162    0.162\n  life_sat ~                                                            \n    customer_sat      0.270    0.055    4.908    0.000    0.309    0.309\n\nCovariances:\n                     Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  tangible ~~                                                             \n    drivers_qualty      0.721    0.100    7.180    0.000    0.690    0.690\n    empathy             0.492    0.080    6.144    0.000    0.471    0.471\n    env_perf            0.595    0.097    6.132    0.000    0.517    0.517\n  drivers_quality ~~                                                      \n    empathy             0.798    0.112    7.139    0.000    0.609    0.609\n    env_perf            0.641    0.105    6.074    0.000    0.444    0.444\n  empathy ~~                                                              \n    env_perf            0.595    0.099    5.997    0.000    0.412    0.412\n\nVariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .bt1               0.870    0.125    6.942    0.000    0.870    0.511\n   .bt2               0.929    0.111    8.372    0.000    0.929    0.517\n   .bt4               1.065    0.125    8.490    0.000    1.065    0.568\n   .bt5               1.029    0.124    8.300    0.000    1.029    0.515\n   .bt6               1.002    0.114    8.809    0.000    1.002    0.488\n   .bt7               1.177    0.139    8.464    0.000    1.177    0.525\n   .bd1               0.945    0.114    8.276    0.000    0.945    0.419\n   .bd2               0.843    0.114    7.376    0.000    0.843    0.420\n   .bd3               0.792    0.103    7.675    0.000    0.792    0.359\n   .bd4               0.738    0.095    7.748    0.000    0.738    0.411\n   .emp1              1.332    0.146    9.134    0.000    1.332    0.504\n   .emp2              0.975    0.116    8.420    0.000    0.975    0.467\n   .emp3              1.721    0.180    9.566    0.000    1.721    0.607\n   .emp4              0.814    0.098    8.350    0.000    0.814    0.451\n   .emp5              1.163    0.142    8.181    0.000    1.163    0.536\n   .ep1               0.335    0.059    5.646    0.000    0.335    0.174\n   .ep2               0.066    0.043    1.518    0.129    0.066    0.035\n   .ep3               0.773    0.143    5.417    0.000    0.773    0.402\n   .ep4               0.804    0.152    5.307    0.000    0.804    0.389\n   .cs1               0.307    0.077    3.971    0.000    0.307    0.173\n   .cs2               0.148    0.040    3.713    0.000    0.148    0.088\n   .cs3               0.428    0.100    4.262    0.000    0.428    0.211\n   .ls1               0.412    0.080    5.147    0.000    0.412    0.269\n   .ls2               0.219    0.049    4.503    0.000    0.219    0.141\n   .ls3               0.475    0.125    3.815    0.000    0.475    0.278\n   .ls4               0.769    0.098    7.818    0.000    0.769    0.361\n   .ls5               1.551    0.180    8.608    0.000    1.551    0.644\n    tangible          0.832    0.134    6.206    0.000    1.000    1.000\n    drivers_qualty    1.312    0.174    7.521    0.000    1.000    1.000\n    empathy           1.309    0.189    6.942    0.000    1.000    1.000\n    env_perf          1.587    0.138   11.533    0.000    1.000    1.000\n   .customer_sat      0.748    0.090    8.314    0.000    0.509    0.509\n   .life_sat          1.012    0.143    7.089    0.000    0.904    0.904\n\nR-Square:\n                   Estimate\n    bt1               0.489\n    bt2               0.483\n    bt4               0.432\n    bt5               0.485\n    bt6               0.512\n    bt7               0.475\n    bd1               0.581\n    bd2               0.580\n    bd3               0.641\n    bd4               0.589\n    emp1              0.496\n    emp2              0.533\n    emp3              0.393\n    emp4              0.549\n    emp5              0.464\n    ep1               0.826\n    ep2               0.965\n    ep3               0.598\n    ep4               0.611\n    cs1               0.827\n    cs2               0.912\n    cs3               0.789\n    ls1               0.731\n    ls2               0.859\n    ls3               0.722\n    ls4               0.639\n    ls5               0.356\n    customer_sat      0.491\n    life_sat          0.096\n\n## plotting sem model using LavaanPlot package\nlavaanPlot(model = ebus_fit, coefs = TRUE, covs = TRUE, stars = TRUE, digits = 2)\n\n\n\n\n## plotting sem model using semPlot package\nsemPlot::semPaths(object = ebus_fit,\n                  what = \"std\",\n                  layout = \"tree\",\n                  rotation = 2,\n                  sizeMan = 3,\n                  sizeLat = 5,\n                  intercepts = FALSE,\n                  residuals = FALSE,\n                  exoCov = F)\n\n\n\n\n\n\n6.3 Estimating indirect effects\n\n6.3.1 Specifying model with indirect effects\n\n### SEM model with mediation\nebus_model_ie <- \"tangible =~ bt1 + bt2 + bt4 + bt5 + bt6 + bt7\n              drivers_quality =~ bd1 + bd2 + bd3 + bd4\n              empathy =~ emp1 + emp2 + emp3 + emp4 + emp5\n              env_perf =~ ep1 + ep2 + ep3 + ep4\n              customer_sat =~ cs1 + cs2 + cs3\n              life_sat =~ ls1 + ls2 + ls3 + ls4 + ls5\n              \n              # structural model\n              customer_sat ~ a*tangible + b*drivers_quality + c*empathy + d*env_perf\n              life_sat ~ e*customer_sat\n             \n              # indirect effects\n              ie_tangible := a*e\n              ie_drivers_qual := b*e\n              ie_empathy := c*e\n              ie_en_perf := d*e\"\n\n\n\n6.3.2 Fitting the model with indirect effects\n\n### Fitting structural model with mediation \nebus_fit_ie <- sem(model = ebus_model_ie,\n                   data = case_data,\n                   estimator = \"MLR\")\n\n### Summary results\nebus_fit_ie %>% summary(standardized = TRUE,\n                        fit.measures = TRUE,\n                        rsq = TRUE)\n\nlavaan 0.6.13 ended normally after 46 iterations\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                        65\n\n  Number of observations                           272\n\nModel Test User Model:\n                                              Standard      Scaled\n  Test Statistic                               561.166     496.106\n  Degrees of freedom                               313         313\n  P-value (Chi-square)                           0.000       0.000\n  Scaling correction factor                                  1.131\n    Yuan-Bentler correction (Mplus variant)                       \n\nModel Test Baseline Model:\n\n  Test statistic                              5050.919    4114.132\n  Degrees of freedom                               351         351\n  P-value                                        0.000       0.000\n  Scaling correction factor                                  1.228\n\nUser Model versus Baseline Model:\n\n  Comparative Fit Index (CFI)                    0.947       0.951\n  Tucker-Lewis Index (TLI)                       0.941       0.945\n                                                                  \n  Robust Comparative Fit Index (CFI)                         0.955\n  Robust Tucker-Lewis Index (TLI)                            0.950\n\nLoglikelihood and Information Criteria:\n\n  Loglikelihood user model (H0)             -10687.320  -10687.320\n  Scaling correction factor                                  1.525\n      for the MLR correction                                      \n  Loglikelihood unrestricted model (H1)     -10406.737  -10406.737\n  Scaling correction factor                                  1.199\n      for the MLR correction                                      \n                                                                  \n  Akaike (AIC)                               21504.640   21504.640\n  Bayesian (BIC)                             21739.017   21739.017\n  Sample-size adjusted Bayesian (SABIC)      21532.920   21532.920\n\nRoot Mean Square Error of Approximation:\n\n  RMSEA                                          0.054       0.046\n  90 Percent confidence interval - lower         0.047       0.039\n  90 Percent confidence interval - upper         0.061       0.053\n  P-value H_0: RMSEA <= 0.050                    0.178       0.793\n  P-value H_0: RMSEA >= 0.080                    0.000       0.000\n                                                                  \n  Robust RMSEA                                               0.049\n  90 Percent confidence interval - lower                     0.041\n  90 Percent confidence interval - upper                     0.057\n  P-value H_0: Robust RMSEA <= 0.050                         0.545\n  P-value H_0: Robust RMSEA >= 0.080                         0.000\n\nStandardized Root Mean Square Residual:\n\n  SRMR                                           0.069       0.069\n\nParameter Estimates:\n\n  Standard errors                             Sandwich\n  Information bread                           Observed\n  Observed information based on                Hessian\n\nLatent Variables:\n                     Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  tangible =~                                                             \n    bt1                 1.000                               0.912    0.699\n    bt2                 1.021    0.081   12.564    0.000    0.931    0.695\n    bt4                 0.986    0.098   10.030    0.000    0.900    0.657\n    bt5                 1.079    0.103   10.493    0.000    0.984    0.697\n    bt6                 1.124    0.121    9.299    0.000    1.026    0.716\n    bt7                 1.132    0.128    8.862    0.000    1.033    0.689\n  drivers_quality =~                                                      \n    bd1                 1.000                               1.145    0.762\n    bd2                 0.941    0.071   13.196    0.000    1.078    0.761\n    bd3                 1.038    0.065   15.982    0.000    1.189    0.801\n    bd4                 0.897    0.068   13.220    0.000    1.027    0.767\n  empathy =~                                                              \n    emp1                1.000                               1.144    0.704\n    emp2                0.922    0.078   11.823    0.000    1.055    0.730\n    emp3                0.923    0.091   10.159    0.000    1.056    0.627\n    emp4                0.870    0.080   10.805    0.000    0.995    0.741\n    emp5                0.878    0.093    9.403    0.000    1.004    0.681\n  env_perf =~                                                             \n    ep1                 1.000                               1.260    0.909\n    ep2                 1.065    0.035   30.266    0.000    1.342    0.982\n    ep3                 0.851    0.061   13.865    0.000    1.072    0.773\n    ep4                 0.893    0.050   17.778    0.000    1.125    0.782\n  customer_sat =~                                                         \n    cs1                 1.000                               1.212    0.909\n    cs2                 1.023    0.040   25.878    0.000    1.240    0.955\n    cs3                 1.045    0.043   24.227    0.000    1.266    0.888\n  life_sat =~                                                             \n    ls1                 1.000                               1.058    0.855\n    ls2                 1.092    0.056   19.402    0.000    1.156    0.927\n    ls3                 1.050    0.096   10.969    0.000    1.111    0.850\n    ls4                 1.102    0.070   15.713    0.000    1.166    0.799\n    ls5                 0.874    0.091    9.609    0.000    0.925    0.596\n\nRegressions:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  customer_sat ~                                                        \n    tangible   (a)    0.313    0.127    2.457    0.014    0.235    0.235\n    drvrs_qlty (b)    0.132    0.122    1.087    0.277    0.125    0.125\n    empathy    (c)    0.367    0.110    3.347    0.001    0.346    0.346\n    env_perf   (d)    0.155    0.060    2.604    0.009    0.162    0.162\n  life_sat ~                                                            \n    customr_st (e)    0.270    0.055    4.908    0.000    0.309    0.309\n\nCovariances:\n                     Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  tangible ~~                                                             \n    drivers_qualty      0.721    0.100    7.180    0.000    0.690    0.690\n    empathy             0.492    0.080    6.144    0.000    0.471    0.471\n    env_perf            0.595    0.097    6.132    0.000    0.517    0.517\n  drivers_quality ~~                                                      \n    empathy             0.798    0.112    7.139    0.000    0.609    0.609\n    env_perf            0.641    0.105    6.074    0.000    0.444    0.444\n  empathy ~~                                                              \n    env_perf            0.595    0.099    5.997    0.000    0.412    0.412\n\nVariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .bt1               0.870    0.125    6.942    0.000    0.870    0.511\n   .bt2               0.929    0.111    8.372    0.000    0.929    0.517\n   .bt4               1.065    0.125    8.490    0.000    1.065    0.568\n   .bt5               1.029    0.124    8.300    0.000    1.029    0.515\n   .bt6               1.002    0.114    8.809    0.000    1.002    0.488\n   .bt7               1.177    0.139    8.464    0.000    1.177    0.525\n   .bd1               0.945    0.114    8.276    0.000    0.945    0.419\n   .bd2               0.843    0.114    7.376    0.000    0.843    0.420\n   .bd3               0.792    0.103    7.675    0.000    0.792    0.359\n   .bd4               0.738    0.095    7.748    0.000    0.738    0.411\n   .emp1              1.332    0.146    9.134    0.000    1.332    0.504\n   .emp2              0.975    0.116    8.420    0.000    0.975    0.467\n   .emp3              1.721    0.180    9.566    0.000    1.721    0.607\n   .emp4              0.814    0.098    8.350    0.000    0.814    0.451\n   .emp5              1.163    0.142    8.181    0.000    1.163    0.536\n   .ep1               0.335    0.059    5.646    0.000    0.335    0.174\n   .ep2               0.066    0.043    1.518    0.129    0.066    0.035\n   .ep3               0.773    0.143    5.417    0.000    0.773    0.402\n   .ep4               0.804    0.152    5.307    0.000    0.804    0.389\n   .cs1               0.307    0.077    3.971    0.000    0.307    0.173\n   .cs2               0.148    0.040    3.713    0.000    0.148    0.088\n   .cs3               0.428    0.100    4.262    0.000    0.428    0.211\n   .ls1               0.412    0.080    5.147    0.000    0.412    0.269\n   .ls2               0.219    0.049    4.503    0.000    0.219    0.141\n   .ls3               0.475    0.125    3.815    0.000    0.475    0.278\n   .ls4               0.769    0.098    7.818    0.000    0.769    0.361\n   .ls5               1.551    0.180    8.608    0.000    1.551    0.644\n    tangible          0.832    0.134    6.206    0.000    1.000    1.000\n    drivers_qualty    1.312    0.174    7.521    0.000    1.000    1.000\n    empathy           1.309    0.189    6.942    0.000    1.000    1.000\n    env_perf          1.587    0.138   11.533    0.000    1.000    1.000\n   .customer_sat      0.748    0.090    8.314    0.000    0.509    0.509\n   .life_sat          1.012    0.143    7.089    0.000    0.904    0.904\n\nR-Square:\n                   Estimate\n    bt1               0.489\n    bt2               0.483\n    bt4               0.432\n    bt5               0.485\n    bt6               0.512\n    bt7               0.475\n    bd1               0.581\n    bd2               0.580\n    bd3               0.641\n    bd4               0.589\n    emp1              0.496\n    emp2              0.533\n    emp3              0.393\n    emp4              0.549\n    emp5              0.464\n    ep1               0.826\n    ep2               0.965\n    ep3               0.598\n    ep4               0.611\n    cs1               0.827\n    cs2               0.912\n    cs3               0.789\n    ls1               0.731\n    ls2               0.859\n    ls3               0.722\n    ls4               0.639\n    ls5               0.356\n    customer_sat      0.491\n    life_sat          0.096\n\nDefined Parameters:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n    ie_tangible       0.084    0.039    2.144    0.032    0.073    0.073\n    ie_drivers_qul    0.036    0.034    1.058    0.290    0.039    0.039\n    ie_empathy        0.099    0.032    3.051    0.002    0.107    0.107\n    ie_en_perf        0.042    0.018    2.292    0.022    0.050    0.050"
  },
  {
    "objectID": "06-cb-sem-sample.html#libraries",
    "href": "06-cb-sem-sample.html#libraries",
    "title": "Covariance Based SEM (CB-SEM)",
    "section": "2 Libraries",
    "text": "2 Libraries\n\n# Library\nlibrary(tidyverse)\nlibrary(readxl)\nlibrary(janitor)\nlibrary(lavaan)\nlibrary(psych)\nlibrary(MVN)\nlibrary(semTools)\nlibrary(lavaanPlot)"
  },
  {
    "objectID": "06-cb-sem-sample.html#data",
    "href": "06-cb-sem-sample.html#data",
    "title": "Covariance Based SEM (CB-SEM)",
    "section": "3 Data",
    "text": "3 Data\n\n## data\ncase_data <- read_excel(\"00_data/e_bus_customer_satisfaction.xlsx\") %>% \n clean_names()\n\ncase_data_items <- case_data %>%\n select(bt1:bt7, bd1:bd4, emp1:emp5, cs1:cs3, ep1:ep4, ls1:ls5)\n\n## datatable\nDT::datatable(case_data)"
  },
  {
    "objectID": "06-cb-sem-sample.html#sample-study",
    "href": "06-cb-sem-sample.html#sample-study",
    "title": "Covariance Based SEM (CB-SEM)",
    "section": "1 Sample study",
    "text": "1 Sample study\n\nJournal article: Young people’s perceived service quality and environmental performance of hybrid electric bus.\nAuthor: Zial Haque and Tehjeeb Noor\nArticle link: DOI link\nDownload the dataset here."
  },
  {
    "objectID": "07-pls-sem-sample.html#sample-study",
    "href": "07-pls-sem-sample.html#sample-study",
    "title": "Partial-Least Square SEM (PLS-SEM)",
    "section": "1 Sample study",
    "text": "1 Sample study\n\nJournal article: Young people’s perceived service quality and environmental performance of hybrid electric bus.\nAuthor: Zial Haque and Tehjeeb Noor\nArticle link: DOI link\nDownload the dataset here"
  },
  {
    "objectID": "07-pls-sem-sample.html#libraries",
    "href": "07-pls-sem-sample.html#libraries",
    "title": "Partial-Least Square SEM (PLS-SEM)",
    "section": "2 Libraries",
    "text": "2 Libraries\n\n# Library\nlibrary(tidyverse)\nlibrary(readxl)\nlibrary(janitor)\nlibrary(seminr)\nlibrary(psych)\nlibrary(MVN)\nlibrary(semTools)"
  },
  {
    "objectID": "07-pls-sem-sample.html#data",
    "href": "07-pls-sem-sample.html#data",
    "title": "Partial-Least Square SEM (PLS-SEM)",
    "section": "3 Data",
    "text": "3 Data\n\n## data\ncase_data <- read_excel(\"00_data/e_bus_customer_satisfaction.xlsx\") %>% \n clean_names()\n\ncase_data_items <- case_data %>%\n select(bt1:bt7, bd1:bd4, emp1:emp5, cs1:cs3, ep1:ep4, ls1:ls5)"
  },
  {
    "objectID": "07-pls-sem-sample.html#exploratory-factor-analysis",
    "href": "07-pls-sem-sample.html#exploratory-factor-analysis",
    "title": "Partial-Least Square SEM (PLS-SEM)",
    "section": "4 Exploratory factor analysis",
    "text": "4 Exploratory factor analysis\n\n4.1 Scree plot\n\n## Scree plot using parallel analysis\nfa.parallel(case_data_items, fa = \"fa\")\n\n\n\n\nParallel analysis suggests that the number of factors =  7  and the number of components =  NA \n\n\n\n\n4.2 Factor extraction\n\n## Factor loading\nbus_fa <- fa(r = case_data_items,\n             nfactors = 6,\n             rotate = \"varimax\")\n\nprint(bus_fa$loadings, sort = TRUE, cutoff = 0.4)\n\n\nLoadings:\n     MR2   MR1   MR3   MR4   MR6   MR5  \nls1  0.820                              \nls2  0.891                              \nls3  0.828                              \nls4  0.806                              \nls5  0.599                              \nbt1        0.673                        \nbt2        0.666                        \nbt4        0.549                        \nbt5        0.680                        \nbt6        0.578                        \nbt7        0.550                        \nep1              0.864                  \nep2              0.900                  \nep3              0.690                  \nep4              0.705                  \nemp1                   0.688            \nemp2                   0.662            \nemp3                   0.636            \nemp4                   0.697            \nemp5                   0.502            \nbd1                          0.679      \nbd2                          0.640      \nbd3                          0.676      \nbd4                          0.629      \ncs1                                0.774\ncs2                                0.817\ncs3                                0.768\nbt3        0.476                        \n\n                 MR2   MR1   MR3   MR4   MR6   MR5\nSS loadings    3.477 3.363 3.081 2.658 2.429 2.297\nProportion Var 0.124 0.120 0.110 0.095 0.087 0.082\nCumulative Var 0.124 0.244 0.354 0.449 0.536 0.618"
  },
  {
    "objectID": "07-pls-sem-sample.html#partial-least-square-sem",
    "href": "07-pls-sem-sample.html#partial-least-square-sem",
    "title": "Partial-Least Square SEM (PLS-SEM)",
    "section": "5 Partial-least square SEM",
    "text": "5 Partial-least square SEM\n\n5.1 Specifying the measurement model\n\npls_mm_ebus <- \n  constructs(\n  composite(\"tangible\", multi_items(\"bt\", c(1:2, 5:7))),\n  composite(\"drivers_quality\", multi_items(\"bd\", 1:4)),\n  composite(\"empathy\", multi_items(\"emp\", 1:5)),\n  composite(\"env_perf\", multi_items(\"ep\", 1:4)),\n  composite(\"customer_sat\", multi_items(\"cs\", 1:3)),\n  composite(\"life_sat\", multi_items(\"ls\", 1:5))\n)\n\nplot(pls_mm_ebus)\n\n\n\n\n\n\n\n5.2 Specifying the structural model\n\npls_sm_ebus <- \n  relationships(\n  paths(from = c(\"tangible\", \"drivers_quality\", \"empathy\", \"env_perf\"),\n        to = \"customer_sat\"),\n  paths(from = \"customer_sat\", to = \"life_sat\")\n)\n\nplot(pls_sm_ebus)\n\n\n\n\n\n\n\n5.3 Estimating PLS-SEM model\n\npls_model_ebus <- \n  estimate_pls(\n  data = case_data,\n  measurement_model = pls_mm_ebus,\n  structural_model = pls_sm_ebus\n)\n\n\nplot(pls_model_ebus)\n\n\n\n\nsummary_pls_model_ebus <- summary(pls_model_ebus)\nsummary_pls_model_ebus\n\n\nResults from  package seminr (2.3.2)\n\nPath Coefficients:\n                customer_sat life_sat\nR^2                    0.448    0.077\nAdjR^2                 0.440    0.074\ntangible               0.179        .\ndrivers_quality        0.146        .\nempathy                0.310        .\nenv_perf               0.237        .\ncustomer_sat               .    0.278\n\nReliability:\n                alpha  rhoC   AVE  rhoA\ntangible        0.830 0.880 0.595 0.831\ndrivers_quality 0.856 0.902 0.698 0.857\nempathy         0.825 0.876 0.586 0.840\nenv_perf        0.920 0.944 0.808 0.926\ncustomer_sat    0.941 0.962 0.895 0.944\nlife_sat        0.903 0.929 0.724 0.911\n\nAlpha, rhoC, and rhoA should exceed 0.7 while AVE should exceed 0.5\n\n\n\n\n5.4 Bootstraping PLS-SEM\n\n## bootstrapping PLS-SEM model\nboot_pls_model_ebus <- bootstrap_model(seminr_model = pls_model_ebus,\n                nboot = 1000)\n\n## summary results\nsummary_boot_pls_model_ebus <- summary(boot_pls_model_ebus, alpha = 0.10)\n\n\n\n5.5 Factor loadings\n\n# DT::datatable(summary_boot_pls_model_ebus$bootstrapped_loadings %>% round(3))\nsummary_boot_pls_model_ebus$bootstrapped_loadings\n\n                         Original Est. Bootstrap Mean Bootstrap SD T Stat.\nbt1  ->  tangible                0.763          0.761        0.036  21.496\nbt2  ->  tangible                0.766          0.764        0.035  21.673\nbt5  ->  tangible                0.767          0.766        0.032  24.108\nbt6  ->  tangible                0.790          0.787        0.030  26.736\nbt7  ->  tangible                0.772          0.770        0.034  22.580\nbd1  ->  drivers_quality         0.834          0.834        0.021  40.400\nbd2  ->  drivers_quality         0.823          0.821        0.024  34.655\nbd3  ->  drivers_quality         0.858          0.857        0.018  48.626\nbd4  ->  drivers_quality         0.826          0.825        0.026  31.977\nemp1  ->  empathy                0.768          0.766        0.030  25.914\nemp2  ->  empathy                0.799          0.797        0.026  30.163\nemp3  ->  empathy                0.699          0.696        0.041  17.024\nemp4  ->  empathy                0.794          0.792        0.029  26.930\nemp5  ->  empathy                0.762          0.762        0.029  26.369\nep1  ->  env_perf                0.905          0.903        0.019  47.944\nep2  ->  env_perf                0.947          0.946        0.010  99.625\nep3  ->  env_perf                0.875          0.877        0.020  43.729\nep4  ->  env_perf                0.866          0.866        0.028  31.239\ncs1  ->  customer_sat            0.944          0.944        0.012  79.744\ncs2  ->  customer_sat            0.960          0.960        0.007 142.935\ncs3  ->  customer_sat            0.934          0.933        0.015  60.711\nls1  ->  life_sat                0.874          0.873        0.024  36.104\nls2  ->  life_sat                0.915          0.915        0.016  56.087\nls3  ->  life_sat                0.885          0.885        0.028  31.713\nls4  ->  life_sat                0.854          0.852        0.024  36.099\nls5  ->  life_sat                0.711          0.708        0.049  14.504\n                         5% CI 95% CI\nbt1  ->  tangible        0.702  0.814\nbt2  ->  tangible        0.701  0.816\nbt5  ->  tangible        0.710  0.814\nbt6  ->  tangible        0.735  0.832\nbt7  ->  tangible        0.709  0.821\nbd1  ->  drivers_quality 0.799  0.865\nbd2  ->  drivers_quality 0.780  0.857\nbd3  ->  drivers_quality 0.826  0.884\nbd4  ->  drivers_quality 0.778  0.864\nemp1  ->  empathy        0.715  0.812\nemp2  ->  empathy        0.751  0.838\nemp3  ->  empathy        0.623  0.761\nemp4  ->  empathy        0.740  0.839\nemp5  ->  empathy        0.710  0.807\nep1  ->  env_perf        0.868  0.929\nep2  ->  env_perf        0.929  0.960\nep3  ->  env_perf        0.843  0.909\nep4  ->  env_perf        0.817  0.909\ncs1  ->  customer_sat    0.922  0.961\ncs2  ->  customer_sat    0.948  0.970\ncs3  ->  customer_sat    0.905  0.955\nls1  ->  life_sat        0.830  0.908\nls2  ->  life_sat        0.885  0.938\nls3  ->  life_sat        0.834  0.924\nls4  ->  life_sat        0.811  0.885\nls5  ->  life_sat        0.618  0.781\n\n\n\n\n5.6 Validity and reliability\nConstruct reliability or factor reliability assesses the extent to which a group of items is consistent in what it intends to measure. We want to test whether the items we selected are reliable or not.\n\nExamples of reliability measurement are Cronbach’s alpha, Rho A and Rho C. The three reliability measurement are similar to what they represent. Thus, the interpretation is the same.\nHigher values indicate a higher level of reliability. Reliability values of 0.70 and above are satisfactory to a good measure of reliability.\nResults show that all factors are above the recommended threshold of 0.70, indicating items used to measure the factors are reliable.\n\nConvergent validity assesses how well the identified items as indicators for a construct measure the expected construct.\n\nFor example, emphaty was measured using 5 indicators, the construct validity can be used to determine how well those 5 indicators measure the factor of Job Satisfaction.\nThe Average Variance Extracted (AVE) is a measurement for convergent validity. An AVE greater than 0.50 provides evidence for convergent validity.\nResults show that AVE for all factors is above the recommended threshold of 0.50, indicating the measured factors passed the convergent validity test.\n\n\n# DT::datatable(summary_pls_model_ebus$reliability %>% round(3))\n## Reliability measurment \nsummary_pls_model_ebus$reliability\n\n                alpha  rhoC   AVE  rhoA\ntangible        0.830 0.880 0.595 0.831\ndrivers_quality 0.856 0.902 0.698 0.857\nempathy         0.825 0.876 0.586 0.840\nenv_perf        0.920 0.944 0.808 0.926\ncustomer_sat    0.941 0.962 0.895 0.944\nlife_sat        0.903 0.929 0.724 0.911\n\nAlpha, rhoC, and rhoA should exceed 0.7 while AVE should exceed 0.5\n\n\n\n\n5.7 Discriminant validity\nThe discriminant validity assesses the extent to which a factor or construct is distinct from other constructs.\nThe idea is to identify unique items as measurements for an intended factor. If the selected items uniquely measure the intended factors, then that factor should not be highly correlated to other factors.\nFornell-Larcker criterion and the heterotrait-monotrait criterion are the most commonly used measurements for discriminant validity.\n\n5.7.1 Fornell-Larcker Criterion\n\nItalicized and bolded values are the factors. While non-bolded values are the inter-correlation of the factors.\nTo establish discriminant validity, the off-diagonal values should be less than AVE or the diagonal values (e.g., 0.853, 0.876, 0.855, …).\nResult shows that the factor’s AVE is higher than the off-diagonal values.\n\n\n## Fornell-Larcker criterion results\nsummary_pls_model_ebus$validity$fl_criteria\n\n                tangible drivers_quality empathy env_perf customer_sat life_sat\ntangible           0.772               .       .        .            .        .\ndrivers_quality    0.562           0.835       .        .            .        .\nempathy            0.377           0.524   0.765        .            .        .\nenv_perf           0.471           0.421   0.380    0.899            .        .\ncustomer_sat       0.489           0.509   0.544    0.500        0.946        .\nlife_sat           0.326           0.249   0.237    0.293        0.278    0.851\n\nFL Criteria table reports square root of AVE on the diagonal and construct correlations on the lower triangle.\n\n\n\n\n5.7.2 Heterotrait-Monotrait ratio\n\nTo establish discriminant validity, the HTMT value should be lower than the recommended threshold of 0.90 or less than 0.85 for a more conservative threshold (Henseler et al., 2015)\nWhen the HTMT value is high (above 0.90) it may suggest one or some indicators in one construct is highly related to another construct. It means the construct is not conceptually distinct.\nUsing the HTMT criterion, values are below 0.90 or 0.85, which suggests constructs passed the discriminant validity test.\n\n\nsummary_pls_model_ebus$validity$htmt\n\n                tangible drivers_quality empathy env_perf customer_sat life_sat\ntangible               .               .       .        .            .        .\ndrivers_quality    0.667               .       .        .            .        .\nempathy            0.440           0.606       .        .            .        .\nenv_perf           0.535           0.470   0.424        .            .        .\ncustomer_sat       0.551           0.565   0.596    0.532            .        .\nlife_sat           0.378           0.279   0.262    0.320        0.300        .\n\n\n\n\n5.7.3 VIF\n\nsummary_pls_model_ebus$vif_antecedents\n\ncustomer_sat :\n       tangible drivers_quality         empathy        env_perf \n          1.624           1.783           1.445           1.392 \n\nlife_sat :\ncustomer_sat \n           ."
  }
]